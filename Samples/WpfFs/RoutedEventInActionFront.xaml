<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:model="clr-namespace:WpfFs.Models;assembly=WpfFs"
             x:Class="WpfFs.UI.RoutedEventInActionFront"
             >
  <UserControl.DataContext>
    <model:RoutedEventInActionModel />
  </UserControl.DataContext>
  <UserControl.Resources>
    <Style TargetType="Border">
      <Setter Property="Padding" Value="1cm" />
    </Style>
    <Style TargetType="Button">
      <Setter Property="Margin" Value=".05cm" />
      <Setter Property="Padding" Value=".1cm" />
    </Style>
  </UserControl.Resources>
  <Grid>
    <Border Background="Green" ButtonBase.Click="ChangeColor">
      <Border Background="Yellow" ButtonBase.Click="ChangeColor">
        <Border Background="Orange" ButtonBase.Click="ChangeColor">
          <Border Background="Red" ButtonBase.Click="ChangeColor">
            <Border Background="Brown" ButtonBase.Click="ChangeColor">
              <StackPanel>
                <Button Click="ShowPopup">Click to show a modal dialog [Direct]</Button>
                <Button>Click to show a modal dialog [Routed Event]</Button>
                <Button Command="{Binding ShowPopupCommand}" Click="PreventEvents">Click to show a modal dialog [Command]</Button>
              </StackPanel>
            </Border>
          </Border>
        </Border>
      </Border>
    </Border>
  </Grid> 
</UserControl>